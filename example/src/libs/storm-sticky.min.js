!function(t,e){"object"==typeof exports?module.exports=e():t.StormSticky=e()}(this,function(){"use strict";function t(t,e){var s=[].slice.call(document.querySelectorAll(t));if(0===s.length)throw new Error("Sticky cannot be initialised, no augmentable elements found");return s.forEach(function(t,s){i[s]=Object.assign(Object.create(o),{DOMElement:t,settings:Object.assign({},n,e)}),i[s].init()}),i}function e(e,i){s(),t(e,i)}function s(){document.removeEventListener("scroll",self.throttled),document.removeEventListener("resize",self.throttled),i=[]}var i=[],n={offset:0,callback:null,throttle:16,className:"is--stuck"},o={init:function(){this.getTriggerOffset(),this.throttled=STORM.UTILS.throttle(function(){this.check.call(this)}.bind(this),this.settings.throttle),document.addEventListener("scroll",this.throttled,!0),document.addEventListener("resize",this.throttled,!0),document.addEventListener("resize",this.getTriggerOffset.bind(this),!0),this.check()},getTriggerOffset:function(){var t=this.DOMElement.style.position;this.DOMElement.style.position="static",this.triggerOffset=this.DOMElement.getBoundingClientRect().top+document.body.scrollTop+this.settings.offset,this.DOMElement.style.position=t},check:function(){this.shouldStick()?(this.DOMElement.classList.add(this.settings.className),!!this.settings.callback&&this.settings.callback.call(this),this.settings.unload&&(document.removeEventListener("scroll",this.throttled,!0),document.addEventListener("resize",this.throttled,!0))):!!this.DOMElement.classList.contains(this.settings.className)&&this.DOMElement.classList.remove(this.settings.className)},shouldStick:function(){return window.pageYOffset>=this.triggerOffset}};return{init:t,reload:e,destroy:s}});